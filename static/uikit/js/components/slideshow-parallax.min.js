/*! For license information please see slideshow-parallax.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&typeof module<"u"?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitslideshow_parallax",["uikit-util"],e):(t=typeof globalThis<"u"?globalThis:t||self).UIkitSlideshow_parallax=e(t.UIkit.util)}(this,(function(t){"use strict";var e={props:{media:Boolean},data:{media:!1},connected(){const e=function(e){if(t.isString(e))if(t.startsWith(e,"@")){const n="breakpoint-"+e.substr(1);e=t.toFloat(t.getCssVar(n))}else if(isNaN(e))return e;return e&&t.isNumeric(e)?"(min-width: "+e+"px)":""}(this.media);if(this.matchMedia=!0,e){this.mediaObj=window.matchMedia(e);const n=()=>{this.matchMedia=this.mediaObj.matches,t.trigger(this.$el,t.createEvent("mediachange",!1,!0,[this.mediaObj]))};this.offMediaObj=t.on(this.mediaObj,"change",(()=>{n(),this.$emit("resize")})),n()}},disconnected(){var t;null==(t=this.offMediaObj)||t.call(this)}};t.memoize((async e=>e?t.startsWith(e,"data:")?decodeURIComponent(e.split(",")[1]):(await fetch(e)).text():Promise.reject()));const n={x:o,y:o,rotate:o,scale:o,color:r,backgroundColor:r,borderColor:r,blur:a,hue:a,fopacity:a,grayscale:a,invert:a,saturate:a,sepia:a,opacity:function(t,e,n){return 1===n.length&&n.unshift(x(e,t,"")),n=d(n),(e,i)=>{e[t]=m(n,i)}},stroke:function(e,n,i){1===i.length&&i.unshift(0);const s=g(i),o=function(e){return Math.ceil(Math.max(0,...t.$$("[stroke]",e).map((t=>{try{return t.getTotalLength()}catch{return 0}}))))}(n);return(i=d(i.reverse(),(e=>(e=t.toFloat(e),"%"===s?e*o/100:e)))).some((t=>{let[e]=t;return e}))?(t.css(n,"strokeDasharray",o),(t,e)=>{t.strokeDashoffset=m(i,e)}):t.noop},bgx:c,bgy:c},{keys:i}=Object;var s={mixins:[e],props:b(i(n),"list"),data:b(i(n),void 0),computed:{props:(e,s)=>i(n).reduce(((i,o)=>(t.isUndefined(e[o])||(i[o]=n[o](o,s,e[o].slice())),i)),{})},events:{load(){this.$emit()}},methods:{reset(){for(const e in this.getCss(0))t.css(this.$el,e,"")},getCss(t){const e={transform:"",filter:""};for(const n in this.props)this.props[n](e,t);return e}}};function o(e,n,i){let s,o=g(i)||{x:"px",y:"px",rotate:"deg"}[e]||"";return"x"===e||"y"===e?(e="translate"+t.ucfirst(e),s=e=>t.toFloat(t.toFloat(e).toFixed("px"===o?0:6))):"scale"===e&&(o="",s=e=>g([e])?t.toPx(e,"width",n,!0)/n.offsetWidth:e),1===i.length&&i.unshift("scale"===e?1:0),i=d(i,s),(t,n)=>{t.transform+=" "+e+"("+m(i,n)+o+")"}}function r(e,n,i){return 1===i.length&&i.unshift(x(n,e,"")),i=d(i,(e=>function(e,n){return x(e,"color",n).split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(t.toFloat)}(n,e))),(n,s)=>{const[o,r,a]=f(i,s),c=o.map(((e,n)=>(e+=a*(r[n]-e),3===n?t.toFloat(e):parseInt(e,10)))).join(",");n[e]="rgba("+c+")"}}function a(t,e,n){1===n.length&&n.unshift(0);const i=g(n)||{blur:"px",hue:"deg"}[t]||"%";return t={fopacity:"opacity",hue:"hue-rotate"}[t]||t,n=d(n),(e,s)=>{const o=m(n,s);e.filter+=" "+t+"("+(o+i)+")"}}function c(e,n,i){1===i.length&&i.unshift(0);const s="y"===(e=e.substr(-1))?"height":"width";i=d(i,(e=>t.toPx(e,s,n)));const o=x(n,"background-position-"+e,"");return"cover"===x(n,"backgroundSize","")?function(e,n,i,s,o){const r=function(e){const n=t.css(e,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");if(u[n])return u[n];const i=new Image;return n&&(i.src=n,!i.naturalWidth)?(i.onload=()=>{u[n]=h(i),t.trigger(e,t.createEvent("load",!1))},h(i)):u[n]=h(i)}(n);if(!r.width)return t.noop;const a=i.map((t=>{let[e]=t;return e})),c=Math.min(...a),d=Math.max(...a),f=a.indexOf(c)<a.indexOf(d),m=d-c;let p=(f?-m:0)-(f?c:d);const g={width:n.offsetWidth,height:n.offsetHeight},x=t.Dimensions.cover(r,g),b=x[o]-g[o];if(b<m)g[o]=x[o]+m-b;else if(b>m){const e=g[o]/t.toPx(s,o,n,!0);e&&(p-=(b-m)/e)}const y=t.Dimensions.cover(r,g),w=l(e,i,p+"px");return(t,e)=>{w(t,e),t.backgroundSize=y.width+"px "+y.height+"px",t.backgroundRepeat="no-repeat"}}(e,n,i,o,s):l(e,i,o)}function l(t,e,n){return function(i,s){i["background-position-"+t]="calc("+n+" + "+m(e,s)+"px)"}}const u={};function h(t){return{width:t.naturalWidth,height:t.naturalHeight}}function d(e,n){void 0===n&&(n=t.toFloat);const i=[],{length:s}=e;let o=0;for(let r=0;r<s;r++){let[a,c]=t.isString(e[r])?e[r].trim().split(" "):[e[r]];if(a=n(a),c=c?t.toFloat(c)/100:null,0===r?null===c?c=0:c&&i.push([a,0]):r===s-1&&(null===c?c=1:1!==c&&(i.push([a,c]),c=1)),i.push([a,c]),null===c)o++;else if(o){const t=i[r-o-1][1],e=(c-t)/(o+1);for(let n=o;n>0;n--)i[r-n][1]=t+e*(o-n+1);o=0}}return i}function f(e,n){const i=t.findIndex(e.slice(1),(t=>{let[,e]=t;return n<=e}))+1;return[e[i-1][0],e[i][0],(n-e[i-1][1])/(e[i][1]-e[i-1][1])]}function m(e,n){const[i,s,o]=f(e,n);return t.isNumber(i)?i+Math.abs(i-s)*o*(i<s?1:-1):+s}const p=/^-?\d+(\S*)/;function g(t,e){for(const e of t){const t=null==e.match?void 0:e.match(p);if(t)return t[1]}return e}function x(e,n,i){const s=e.style[n],o=t.css(t.css(e,n,i),n);return e.style[n]=s,o}function b(t,e){return t.reduce(((t,n)=>(t[n]=e,t)),{})}var y={mixins:[s],data:{selItem:"!li"},beforeConnect(){this.item=t.query(this.selItem,this.$el)},disconnected(){this.item=null},events:[{name:"itemin itemout",self:!0,el(){return this.item},handler(e){let{type:n,detail:{percent:i,duration:s,timing:o,dir:r}}=e;t.fastdom.read((()=>{const e=this.getCss(k(n,r,i)),a=this.getCss(w(n)?.5:r>0?1:0);t.fastdom.write((()=>{t.css(this.$el,e),t.Transition.start(this.$el,a,s,o).catch(t.noop)}))}))}},{name:"transitioncanceled transitionend",self:!0,el(){return this.item},handler(){t.Transition.cancel(this.$el)}},{name:"itemtranslatein itemtranslateout",self:!0,el(){return this.item},handler(e){let{type:n,detail:{percent:i,dir:s}}=e;t.fastdom.read((()=>{const e=this.getCss(k(n,s,i));t.fastdom.write((()=>t.css(this.$el,e)))}))}}]};function w(e){return t.endsWith(e,"in")}function k(t,e,n){return n/=2,w(t)^e<0?n:1-n}return typeof window<"u"&&window.UIkit&&window.UIkit.component("slideshowParallax",y),y}));